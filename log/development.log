  [1m[35m (279.0ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (104.6ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35m (35.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120015738"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-20 02:00:23.987698"], ["updated_at", "2020-11-20 02:00:23.987698"]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (10.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$GGW5UDNYxe0Zz8dAVwnsr.QB/gIa1EaU6QNzYk11RWVWS1nP7Ki5W"], ["age", 39], ["created_at", "2020-11-20 02:02:32.787470"], ["updated_at", "2020-11-20 02:02:32.787470"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2020-11-19 21:22:10 -0500
Started GET "/" for ::1 at 2020-11-19 21:22:32 -0500
Started GET "/" for ::1 at 2020-11-19 21:22:32 -0500
Started GET "/" for ::1 at 2020-11-19 21:22:32 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
Processing by Rails::WelcomeController#index as HTML
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 23.3ms | Allocations: 487)
Completed 200 OK in 40ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 2923)


  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 23.1ms | Allocations: 495)
Completed 200 OK in 42ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 2867)


Started GET "/favicon.ico" for ::1 at 2020-11-19 21:22:32 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/login" for ::1 at 2020-11-19 21:22:56 -0500
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-11-19 21:24:00 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 18.0ms | Allocations: 191)
Completed 200 OK in 39ms (Views: 20.0ms | ActiveRecord: 0.0ms | Allocations: 737)


Started POST "/login" for ::1 at 2020-11-19 21:26:26 -0500
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input):
  
app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input
app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input
Started POST "/login" for ::1 at 2020-11-19 21:27:38 -0500
Started POST "/login" for ::1 at 2020-11-19 21:30:56 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input):
  
app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input
app/controllers/users_controller.rb:39: syntax error, unexpected end, expecting end-of-input
Started POST "/login" for ::1 at 2020-11-19 21:31:40 -0500
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (8.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 317ms (Views: 0.2ms | ActiveRecord: 29.8ms | Allocations: 5132)


Started POST "/login" for ::1 at 2020-11-19 21:32:08 -0500
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 500 Internal Server Error in 353ms (ActiveRecord: 1.9ms | Allocations: 36474)


  
NoMethodError (undefined method `encode_token' for #<UsersController:0x00007ff7fe7a4fb0>):
  
app/controllers/users_controller.rb:20:in `login'
Started POST "/login" for ::1 at 2020-11-19 21:34:57 -0500
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 282ms (Views: 0.5ms | ActiveRecord: 17.6ms | Allocations: 4662)


Started GET "/" for ::1 at 2020-11-20 13:09:26 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 20.5ms | Allocations: 316)
Completed 200 OK in 37ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 1596)


Started GET "/favicon.ico" for ::1 at 2020-11-20 13:09:26 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/auto_login" for ::1 at 2020-11-20 13:10:51 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#auto_login as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 180)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (68.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_development"[0m
  [1m[35m (54.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_test"[0m
  [1m[35m (372.2ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (106.8ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201120015738)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-20 18:13:54.684615"], ["updated_at", "2020-11-20 18:13:54.684615"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c16ef065e771a143fd3a102d6b180a37aeb30bd8"], ["created_at", "2020-11-20 18:13:54.692090"], ["updated_at", "2020-11-20 18:13:54.692090"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201120015738)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-20 18:13:54.761966"], ["updated_at", "2020-11-20 18:13:54.761966"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-11-20 18:13:54.767025"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c16ef065e771a143fd3a102d6b180a37aeb30bd8"], ["created_at", "2020-11-20 18:13:54.771503"], ["updated_at", "2020-11-20 18:13:54.771503"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$/CWoVX.VP1CF9r9CC7cMQ.oZJ7Fun9tvKt7df1YknpPPaIzyO0QbS"], ["age", 39], ["created_at", "2020-11-20 18:13:55.075886"], ["updated_at", "2020-11-20 18:13:55.075886"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (179.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_development"[0m
  [1m[35m (109.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_test"[0m
  [1m[35m (789.6ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (183.2ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120015738"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-20 18:18:22.581407"], ["updated_at", "2020-11-20 18:18:22.581407"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSetlists (20201120182747)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "setlists" ("id" bigserial primary key, "name" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f50d16f6d9"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE  INDEX  "index_setlists_on_user_id" ON "setlists"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (18.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120182747"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for ::1 at 2020-11-20 13:34:39 -0500
  [1m[35m (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 15.8ms | Allocations: 1303)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$WAgxFhIxLMmY0s0lihCQy.mRDoACq5MzpfvckLtSOMENl0q//iLli"], ["age", 39], ["created_at", "2020-11-20 18:34:55.752070"], ["updated_at", "2020-11-20 18:34:55.752070"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/login" for ::1 at 2020-11-20 13:35:38 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 8.5ms | Allocations: 5334)


Started GET "/auto_login" for ::1 at 2020-11-20 13:36:52 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 117)


Started GET "/auto_login" for ::1 at 2020-11-20 13:37:16 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 113)


Started POST "/login" for ::1 at 2020-11-20 14:22:01 -0500
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 268ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 1010)


Started GET "/auto_login" for ::1 at 2020-11-20 14:23:56 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 113)


Started GET "/auto_login" for ::1 at 2020-11-20 15:10:56 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 113)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/auto_login" for ::1 at 2020-11-20 15:15:05 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 128)


Started GET "/auto_login" for ::1 at 2020-11-20 15:15:28 -0500
Processing by UsersController#auto_login as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 188)


Started GET "/auto_login" for ::1 at 2020-11-20 15:15:42 -0500
Processing by UsersController#auto_login as */*
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 17ms (Views: 2.0ms | ActiveRecord: 4.5ms | Allocations: 1201)


Started GET "/auto_login" for ::1 at 2020-11-20 15:16:14 -0500
Processing by UsersController#auto_login as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 971)


Started GET "/setlists" for ::1 at 2020-11-20 15:17:21 -0500
Processing by SetlistsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 127)


Started POST "/login" for ::1 at 2020-11-20 15:17:31 -0500
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 901)


Started GET "/auto_login" for ::1 at 2020-11-20 15:17:51 -0500
Processing by UsersController#auto_login as */*
  [1m[36mUser Load (9.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 9.7ms | Allocations: 971)


Started GET "/setlists" for ::1 at 2020-11-20 15:17:53 -0500
Processing by SetlistsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)


Started GET "/auto_login" for ::1 at 2020-11-20 15:19:56 -0500
Processing by UsersController#auto_login as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 987)


Started POST "/setlists" for ::1 at 2020-11-20 15:30:53 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "setlist"=>{"name"=>"Set List 1"}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 4.9ms | Allocations: 109)


Started POST "/setlists" for ::1 at 2020-11-20 15:31:58 -0500
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/setlists_controller.rb:2: syntax error, unexpected ':', expecting end
  before_action :authorized :set_setlist, only: [:show, :u...
                            ^):
  
app/controllers/setlists_controller.rb:2: syntax error, unexpected ':', expecting end
app/controllers/setlists_controller.rb:2: syntax error, unexpected ':', expecting end
Started POST "/setlists" for ::1 at 2020-11-20 15:32:41 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "setlist"=>{"name"=>"Set List 1"}}
Completed 500 Internal Server Error in 24ms (ActiveRecord: 20.3ms | Allocations: 3666)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/setlists_controller.rb:19:in `create'
Started POST "/setlists/1" for ::1 at 2020-11-20 15:33:24 -0500
  
ActionController::RoutingError (No route matches [POST] "/setlists/1"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/setlists" for ::1 at 2020-11-20 15:35:49 -0500
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/setlists_controller.rb:3: syntax error, unexpected ',', expecting end
  :set_setlist, only: [:show, :update, :dest...
              ^):
  
app/controllers/setlists_controller.rb:3: syntax error, unexpected ',', expecting end
app/controllers/setlists_controller.rb:3: syntax error, unexpected ',', expecting end
Started POST "/setlists" for ::1 at 2020-11-20 15:46:01 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "setlist"=>{"name"=>"Set List 1"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 19.5ms | Allocations: 8650)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
Started POST "/setlists" for ::1 at 2020-11-20 15:48:13 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "user_id"=>"tonim", "setlist"=>{"name"=>"Set List 1", "user_id"=>"tonim"}}
  [1m[36mUser Load (14.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 14.7ms | Allocations: 1357)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
Started POST "/setlists" for ::1 at 2020-11-20 15:48:34 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "user_id"=>1, "setlist"=>{"name"=>"Set List 1", "user_id"=>1}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 5.4ms | Allocations: 1354)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
Started POST "/setlists" for ::1 at 2020-11-20 15:50:45 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "user_id"=>1, "setlist"=>{"name"=>"Set List 1", "user_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 13.4ms | Allocations: 8606)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
Started POST "/setlists" for ::1 at 2020-11-20 15:53:37 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "user_id"=>1, "setlist"=>{"name"=>"Set List 1", "user_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 28.8ms | Allocations: 9712)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
  [1m[36mSetlist Load (3.2ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mSetlist Load (14.1ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSetlist Create (13.3ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "SetList 1"], ["user_id", 1], ["created_at", "2020-11-20 21:09:26.008731"], ["updated_at", "2020-11-20 21:09:26.008731"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/setlists" for ::1 at 2020-11-20 16:09:44 -0500
Processing by SetlistsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 116)


  [1m[36mSetlist Load (0.6ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSongs (20201120231807)
  [1m[35m (8.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.6ms)[0m  [1m[35mCREATE TABLE "songs" ("id" bigserial primary key, "name" character varying, "artist" character varying, "lyrics" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120231807"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (4.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveUserFromSetlist (20201121054344)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.5ms)[0m  [1m[35mALTER TABLE "setlists" DROP COLUMN "user"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveUserFromSetlist (20201121054344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "setlist" DROP COLUMN "user"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveUserFromSetlist (20201121054344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "setlists" DROP COLUMN "user_id"[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201121054344"]]
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "user" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSong Create (1.9ms)[0m  [1m[32mINSERT INTO "songs" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Hello"], ["created_at", "2020-11-21 05:55:35.375702"], ["updated_at", "2020-11-21 05:55:35.375702"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[36mSong Load (0.8ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  [1m[36mSong Destroy (3.1ms)[0m  [1m[31mDELETE FROM "songs" WHERE "songs"."id" = $1[0m  [["id", nil]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSong Create (0.9ms)[0m  [1m[32mINSERT INTO "songs" ("name", "artist", "lyrics", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Hello"], ["artist", "Adele"], ["lyrics", "I am starting to get extremely annoyed with this"], ["created_at", "2020-11-21 06:07:05.005644"], ["updated_at", "2020-11-21 06:07:05.005644"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongRefToUser (20201121055149)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (60.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_development"[0m
  [1m[35m (52.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_test"[0m
  [1m[35m (465.4ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (103.7ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "trader_id" bigint, "commodity_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_40018f177c"
FOREIGN KEY ("trader_id")
  REFERENCES "traders" ("id")
, CONSTRAINT "fk_rails_b21ec548a8"
FOREIGN KEY ("commodity_id")
  REFERENCES "commodities" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "setlist_id" bigint, "song_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fe4629ab4c"
FOREIGN KEY ("setlist_id")
  REFERENCES "setlists" ("id")
, CONSTRAINT "fk_rails_84583a18c1"
FOREIGN KEY ("song_id")
  REFERENCES "songs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "setlist_id" bigint, "song_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fe4629ab4c"
FOREIGN KEY ("setlist_id")
  REFERENCES "setlists" ("id")
, CONSTRAINT "fk_rails_84583a18c1"
FOREIGN KEY ("song_id")
  REFERENCES "songs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (35.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_development"[0m
  [1m[35m (35.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_test"[0m
  [1m[35m (405.8ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (97.5ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "setlist_id" bigint, "song_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fe4629ab4c"
FOREIGN KEY ("setlist_id")
  REFERENCES "setlists" ("id")
, CONSTRAINT "fk_rails_84583a18c1"
FOREIGN KEY ("song_id")
  REFERENCES "songs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120015738"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSetlists (20201120182747)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "setlists" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120182747"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSongs (20201120231807)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "songs" ("id" bigserial primary key, "name" character varying, "artist" character varying, "lyrics" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120231807"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-21 06:23:52.640871"], ["updated_at", "2020-11-21 06:23:52.640871"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSetlistToUsers (20201121062757)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "setlist_id" bigint NOT NULL[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_setlist_id" ON "users"  ("setlist_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_fe4629ab4c"
FOREIGN KEY ("setlist_id")
  REFERENCES "setlists" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201121062757"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongToUsers (20201121062908)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint NOT NULL[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_song_id" ON "users"  ("song_id")[0m
  [1m[35m (8.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_84583a18c1"
FOREIGN KEY ("song_id")
  REFERENCES "songs" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201121062908"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (16.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$RuBnxwHQ6k.kfm2x6cRsO.l03CR4jhqKt7wkZwud179VID5gUcsCa"], ["age", 39], ["created_at", "2020-11-21 06:30:20.603482"], ["updated_at", "2020-11-21 06:30:20.603482"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$T1dzPAoprOguSfnUaYYIS.1jdciGiqnRyxYDF1gVIH3BcQZwErZ2a"], ["age", 39], ["created_at", "2020-11-21 06:31:39.293823"], ["updated_at", "2020-11-21 06:31:39.293823"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$StBRRedgnwc.3nOUmgzJRO.iRedUmL8rqV72C3lDO5gIS7WOkl9lS"], ["age", 39], ["created_at", "2020-11-21 06:32:20.714766"], ["updated_at", "2020-11-21 06:32:20.714766"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (65.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_development"[0m
  [1m[35m (40.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lyrics_api_test"[0m
  [1m[35m (214.1ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_development" ENCODING = 'unicode'[0m
  [1m[35m (105.7ms)[0m  [1m[35mCREATE DATABASE "lyrics_api_test" ENCODING = 'unicode'[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20201120015738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "age" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120015738"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSetlists (20201120182747)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "setlists" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120182747"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSongs (20201120231807)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "songs" ("id" bigserial primary key, "name" character varying, "artist" character varying, "lyrics" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201120231807"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSetlistToUsers (20201121062757)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "setlist_id" bigint[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_setlist_id" ON "users"  ("setlist_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_fe4629ab4c"
FOREIGN KEY ("setlist_id")
  REFERENCES "setlists" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201121062757"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSongToUsers (20201121062908)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "song_id" bigint[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_song_id" ON "users"  ("song_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_84583a18c1"
FOREIGN KEY ("song_id")
  REFERENCES "songs" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201121062908"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-11-21 06:40:09.309556"], ["updated_at", "2020-11-21 06:40:09.309556"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$7W/KWuYE6en2iknoYWAR3exaE/VnsFnNTkL7JaD8bLvyTOo3Uf2xy"], ["age", 39], ["created_at", "2020-11-21 06:47:25.914174"], ["updated_at", "2020-11-21 06:47:25.914174"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.6ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 1"], ["created_at", "2020-11-21 06:47:25.955613"], ["updated_at", "2020-11-21 06:47:25.955613"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.4ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 2"], ["created_at", "2020-11-21 06:47:25.959927"], ["updated_at", "2020-11-21 06:47:25.959927"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.3ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 3"], ["created_at", "2020-11-21 06:47:25.963506"], ["updated_at", "2020-11-21 06:47:25.963506"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "tonim"], ["password_digest", "$2a$12$wgAUhLqBywYk7T5txQpzd.p.h1WO0HjosEJVb2yhzGfTjV7qp3pyO"], ["age", 39], ["created_at", "2020-11-21 06:48:01.944250"], ["updated_at", "2020-11-21 06:48:01.944250"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.5ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 1"], ["created_at", "2020-11-21 06:48:01.971106"], ["updated_at", "2020-11-21 06:48:01.971106"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.3ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 2"], ["created_at", "2020-11-21 06:48:01.975232"], ["updated_at", "2020-11-21 06:48:01.975232"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSetlist Create (0.3ms)[0m  [1m[32mINSERT INTO "setlists" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Setlist 3"], ["created_at", "2020-11-21 06:48:01.978479"], ["updated_at", "2020-11-21 06:48:01.978479"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSong Create (0.9ms)[0m  [1m[32mINSERT INTO "songs" ("name", "artist", "lyrics", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Hello"], ["artist", "Adele"], ["lyrics", "Hello, its me I was wondering if after all these years youd like to meet To go over everything"], ["created_at", "2020-11-21 06:48:01.991404"], ["updated_at", "2020-11-21 06:48:01.991404"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSong Create (0.3ms)[0m  [1m[32mINSERT INTO "songs" ("name", "artist", "lyrics", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Gold Dust Woman"], ["artist", "Fleetwood Mac"], ["lyrics", "Rock on gold dust woman Take your silver spoon Dig your grave"], ["created_at", "2020-11-21 06:48:01.995666"], ["updated_at", "2020-11-21 06:48:01.995666"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSong Create (0.3ms)[0m  [1m[32mINSERT INTO "songs" ("name", "artist", "lyrics", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Play God"], ["artist", "Ani DiFranco"], ["lyrics", "I was done at 16 Showing up for class I was out there in the ring"], ["created_at", "2020-11-21 06:48:01.998954"], ["updated_at", "2020-11-21 06:48:01.998954"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSong Load (0.7ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mSetlist Load (1.0ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists"[0m
  [1m[36mUser Destroy (2.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mSetlist Destroy (3.9ms)[0m  [1m[31mDELETE FROM "setlists" WHERE "setlists"."id" = $1[0m  [["id", 4]]
  [1m[36mSetlist Load (0.5ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists"[0m
  [1m[36mSetlist Destroy (2.4ms)[0m  [1m[31mDELETE FROM "setlists" WHERE "setlists"."id" = $1[0m  [["id", 5]]
  [1m[36mSetlist Destroy (2.4ms)[0m  [1m[31mDELETE FROM "setlists" WHERE "setlists"."id" = $1[0m  [["id", 6]]
  [1m[36mUser Destroy (2.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mSetlist Load (0.5ms)[0m  [1m[34mSELECT "setlists".* FROM "setlists"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mSong Load (0.7ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongToSetlists (20201121070039)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSongToSetlists (20201121070039)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "setlist" ADD "song_id" bigint[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "age", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "test"], ["password_digest", "$2a$12$fP4zLOt/yctSgWFhl0eP5.K6e89BrUozSIS.xtGAHl5ruusidK3VO"], ["age", 21], ["created_at", "2020-11-21 07:03:29.912227"], ["updated_at", "2020-11-21 07:03:29.912227"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2020-11-21 02:09:57 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 22.1ms | Allocations: 316)
Completed 200 OK in 33ms (Views: 26.9ms | ActiveRecord: 0.0ms | Allocations: 1597)


Started GET "/favicon.ico" for ::1 at 2020-11-21 02:09:58 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-11-21 02:10:04 -0500
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs" for ::1 at 2020-11-21 02:10:09 -0500
Processing by SongsController#index as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)


Started GET "/setlists" for ::1 at 2020-11-21 02:10:11 -0500
Processing by SetlistsController#index as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 140)


Started GET "/songs" for ::1 at 2020-11-21 02:10:17 -0500
Processing by SongsController#index as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 109)


Started GET "/login" for ::1 at 2020-11-21 02:10:25 -0500
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/auto_login" for ::1 at 2020-11-21 02:10:34 -0500
Processing by UsersController#auto_login as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 135)


Started POST "/login" for ::1 at 2020-11-23 11:30:17 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"username"=>"tonim", "password"=>"[FILTERED]", "user"=>{"username"=>"tonim"}}
  [1m[36mUser Load (28.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tonim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 343ms (Views: 0.4ms | ActiveRecord: 74.3ms | Allocations: 6640)


Started GET "/auto_login" for ::1 at 2020-11-23 11:30:37 -0500
Processing by UsersController#auto_login as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1131)


Started GET "/songs" for ::1 at 2020-11-23 11:31:32 -0500
Processing by SongsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 143)


Started GET "/songs" for ::1 at 2020-11-23 11:31:48 -0500
Processing by SongsController#index as */*
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
  [1m[36mSong Load (5.1ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  â†³ app/controllers/songs_controller.rb:8:in `index'
Completed 200 OK in 60ms (Views: 7.0ms | ActiveRecord: 33.7ms | Allocations: 7558)


Started GET "/setlists" for ::1 at 2020-11-23 11:32:14 -0500
Processing by SetlistsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 140)


Started GET "/setlists" for ::1 at 2020-11-23 11:32:24 -0500
Processing by SetlistsController#index as */*
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 7.6ms | Allocations: 2605)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column setlists.user_id does not exist
LINE 1: SELECT "setlists".* FROM "setlists" WHERE "setlists"."user_i...
                                                  ^
):
  
app/controllers/setlists_controller.rb:9:in `index'
Started GET "/setlists" for ::1 at 2020-11-23 11:35:20 -0500
Processing by SetlistsController#index as */*
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.9ms | Allocations: 1069)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column setlists.user_id does not exist
LINE 1: SELECT "setlists".* FROM "setlists" WHERE "setlists"."user_i...
                                                  ^
):
  
app/controllers/setlists_controller.rb:9:in `index'
Started GET "/" for ::1 at 2020-11-23 11:35:43 -0500
Processing by Rails::WelcomeController#index as */*
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 19.9ms | Allocations: 316)
Completed 200 OK in 31ms (Views: 23.9ms | ActiveRecord: 0.0ms | Allocations: 1631)


Started GET "/users" for ::1 at 2020-11-23 11:35:48 -0500
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/setlists" for ::1 at 2020-11-23 11:36:09 -0500
Processing by SetlistsController#create as */*
  Parameters: {"name"=>"Set List 1", "user_id"=>1, "setlist"=>{"name"=>"Set List 1"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.1ms | Allocations: 3691)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/setlists_controller.rb:20:in `create'
Started POST "/songs" for ::1 at 2020-11-23 11:45:19 -0500
Processing by SongsController#create as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)


Started POST "/songs" for ::1 at 2020-11-23 11:45:30 -0500
Processing by SongsController#create as */*
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 400 Bad Request in 10ms (ActiveRecord: 2.4ms | Allocations: 1004)


  
ActionController::ParameterMissing (param is missing or the value is empty: song):
  
app/controllers/songs_controller.rb:49:in `song_params'
app/controllers/songs_controller.rb:18:in `create'
Started POST "/songs" for ::1 at 2020-11-23 11:45:41 -0500
Processing by SongsController#create as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
  [1m[35m (19.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/songs_controller.rb:20:in `create'
  [1m[36mSong Create (50.5ms)[0m  [1m[32mINSERT INTO "songs" ("name", "artist", "lyrics", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kashmir"], ["artist", "Led Zeppelin"], ["lyrics", "Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"], ["created_at", "2020-11-23 16:45:41.898997"], ["updated_at", "2020-11-23 16:45:41.898997"]]
  â†³ app/controllers/songs_controller.rb:20:in `create'
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/songs_controller.rb:20:in `create'
Completed 201 Created in 94ms (Views: 0.7ms | ActiveRecord: 86.2ms | Allocations: 3743)


  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1537246212716069940)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFaveColumnToSong (20201123164651)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (108.4ms)[0m  [1m[35mALTER TABLE "songs" ADD "is_fav" boolean DEFAULT FALSE[0m
  [1m[36mprimary::SchemaMigration Create (10.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201123164651"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1537246212716069940)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/songs" for ::1 at 2020-11-23 11:51:30 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SongsController#index as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
  [1m[36mSong Load (0.7ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  â†³ app/controllers/songs_controller.rb:8:in `index'
Completed 200 OK in 29ms (Views: 9.1ms | ActiveRecord: 2.2ms | Allocations: 11237)


Started GET "/songs" for ::1 at 2020-11-23 17:04:49 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- Faraday):
  
app/controllers/songs_controller.rb:1:in `<main>'
Started GET "/favicon.ico" for ::1 at 2020-11-23 17:04:51 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs" for ::1 at 2020-11-23 17:05:21 -0500
  
LoadError (cannot load such file -- faraday):
  
app/controllers/songs_controller.rb:1:in `<main>'
Started GET "/songs" for ::1 at 2020-11-23 17:05:50 -0500
Processing by SongsController#index as HTML
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)


Started GET "/songs/" for ::1 at 2020-11-23 17:06:54 -0500
Processing by SongsController#index as */*
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 109)


Started GET "/songs/" for ::1 at 2020-11-23 17:07:06 -0500
Processing by SongsController#index as */*
  [1m[36mUser Load (9.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
  [1m[36mSong Load (1.6ms)[0m  [1m[34mSELECT "songs".* FROM "songs"[0m
  â†³ app/controllers/songs_controller.rb:10:in `index'
Completed 200 OK in 307ms (Views: 23.0ms | ActiveRecord: 243.1ms | Allocations: 16334)


Started GET "/songs/search/artist/the" for ::1 at 2020-11-23 17:08:04 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"the"}
  [1m[36mUser Load (31.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 31.1ms | Allocations: 2366)


  
NameError (uninitialized constant SongsController::Faraday):
  
app/controllers/songs_controller.rb:43:in `search_by_artist'
Started GET "/songs/search/artist/the" for ::1 at 2020-11-23 17:11:57 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"the"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 307ms (Views: 0.3ms | ActiveRecord: 22.8ms | Allocations: 22912)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:15:25 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 17.6ms | Allocations: 6885)


  
URI::InvalidURIError (bad URI(is not URI?): "https://api.musixmatch.com/ws/1.1/track.search?format=jsonp&callback=callback&q_artist=\#{params[:search]}&apikey=#{'apikey'}"):
  
app/controllers/songs_controller.rb:43:in `search_by_artist'
Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:15:58 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms | Allocations: 925)


  
URI::InvalidURIError (bad URI(is not URI?): "https://api.musixmatch.com/ws/1.1/track.search?format=jsonp&callback=callback&q_artist=\#{params[:search]}&apikey=#{'apikey'}"):
  
app/controllers/songs_controller.rb:43:in `search_by_artist'
Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:16:32 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 279ms (Views: 0.3ms | ActiveRecord: 74.3ms | Allocations: 9502)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:23:28 -0500
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 500 Internal Server Error in 93ms (ActiveRecord: 11.6ms | Allocations: 7729)


  
TypeError (no implicit conversion of Symbol into String):
  
app/controllers/songs_controller.rb:43:in `[]'
app/controllers/songs_controller.rb:43:in `search_by_artist'
Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:23:52 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:28:in `logged_in_user'
Completed 200 OK in 267ms (Views: 0.2ms | ActiveRecord: 25.2ms | Allocations: 14693)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:25:01 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 17:28:06 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
Completed 200 OK in 171ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2826)


Started GET "/songs/search/lyrics/Gold%20Dust" for ::1 at 2020-11-23 18:06:01 -0500
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:55: syntax error, unexpected tLABEL, expecting do or '{' or '('
    render json: res.body
           ^~~~~
/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:56: syntax error, unexpected end, expecting tSTRING_DEND
  end
  ^~~
/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:69: syntax error, unexpected end, expecting tSTRING_DEND):
  
app/controllers/songs_controller.rb:55: syntax error, unexpected tLABEL, expecting do or '{' or '('
app/controllers/songs_controller.rb:56: syntax error, unexpected end, expecting tSTRING_DEND
app/controllers/songs_controller.rb:69: syntax error, unexpected end, expecting tSTRING_DEND
app/controllers/songs_controller.rb:55: syntax error, unexpected tLABEL, expecting do or '{' or '('
app/controllers/songs_controller.rb:56: syntax error, unexpected end, expecting tSTRING_DEND
app/controllers/songs_controller.rb:69: syntax error, unexpected end, expecting tSTRING_DEND
Started GET "/songs/search/lyrics/Gold%20Dust" for ::1 at 2020-11-23 18:07:43 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold Dust"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 155)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 18:08:08 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
Completed 200 OK in 177ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2783)


Started GET "/songs/search/lyrics/Gold%20Dust" for ::1 at 2020-11-23 18:08:37 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold Dust"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/lyrics/Gol" for ::1 at 2020-11-23 18:08:41 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gol"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/lyrics/Gol" for ::1 at 2020-11-23 18:09:24 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gol"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 116)


Started POST "/songs/search" for ::1 at 2020-11-23 18:10:02 -0500
  
ActionController::RoutingError (No route matches [POST] "/songs/search"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/songs/search/lyrics/" for ::1 at 2020-11-23 18:10:13 -0500
  
ActionController::RoutingError (No route matches [POST] "/songs/search/lyrics"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/lyrics/" for ::1 at 2020-11-23 18:10:19 -0500
  
ActionController::RoutingError (No route matches [GET] "/songs/search/lyrics"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/lyrics/any" for ::1 at 2020-11-23 18:10:29 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "search"=>"any", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:27:in `logged_in_user'
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 44.0ms | Allocations: 9453)


Started GET "/songs/search/lyrics/artist" for ::1 at 2020-11-23 18:10:51 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "search"=>"artist", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
  [1m[36mUser Load (19.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:27:in `logged_in_user'
Completed 200 OK in 126ms (Views: 0.2ms | ActiveRecord: 19.6ms | Allocations: 3583)


Started GET "/songs/search/lyrics/artist" for ::1 at 2020-11-23 18:11:17 -0500
Processing by SongsController#search_lyrics as HTML
  Parameters: {"search"=>"artist"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/artist&track" for ::1 at 2020-11-23 18:12:30 -0500
  
ActionController::RoutingError (No route matches [GET] "/songs/search/artist&track"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/artist" for ::1 at 2020-11-23 18:12:36 -0500
  
ActionController::RoutingError (No route matches [GET] "/songs/search/artist"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/any" for ::1 at 2020-11-23 18:12:41 -0500
  
ActionController::RoutingError (No route matches [GET] "/songs/search/any"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/lyrics/artis" for ::1 at 2020-11-23 18:12:49 -0500
Processing by SongsController#search_lyrics as HTML
  Parameters: {"search"=>"artis"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 119)


Started GET "/songs/search/lyrics/artist" for ::1 at 2020-11-23 18:13:48 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "search"=>"artist", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:27:in `logged_in_user'
Completed 200 OK in 191ms (Views: 0.1ms | ActiveRecord: 19.7ms | Allocations: 9404)


Started GET "/songs/search/lyrics/artist" for ::1 at 2020-11-23 18:14:03 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race", "search"=>"artist", "song"=>{"name"=>"Kashmir", "artist"=>"Led Zeppelin", "lyrics"=>"Oh, let the sun beat down upon my face And stars fill my dream I'm a traveler of both time and space To be where I have been To sit with elders of the gentle race"}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/lyrics/Gol" for ::1 at 2020-11-23 18:14:58 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gol"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/lyrics/Gol" for ::1 at 2020-11-23 18:16:45 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gol"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 155)


Started GET "/songs/search/lyrics/Gol" for ::1 at 2020-11-23 18:20:29 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gol"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 196)


Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:20:49 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 116)


Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:26:44 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 154)


Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 18:27:12 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
Completed 200 OK in 487ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 7947)


Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:29:43 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Completed 200 OK in 147ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2844)


Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:30:54 -0500
  
SyntaxError (/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:65: syntax error, unexpected tIDENTIFIER, expecting ')'
...llow a trusted parameter "white list" through.
...                          ^~~~~
/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:69: unterminated string meets end of file
/Users/toni/Projects/Capstone/lyrics_api/app/controllers/songs_controller.rb:69: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/songs_controller.rb:65: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/songs_controller.rb:69: unterminated string meets end of file
app/controllers/songs_controller.rb:69: syntax error, unexpected end-of-input, expecting end
app/controllers/songs_controller.rb:65: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/songs_controller.rb:69: unterminated string meets end of file
app/controllers/songs_controller.rb:69: syntax error, unexpected end-of-input, expecting end
Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:31:22 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Completed 200 OK in 462ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2847)


Started GET "/songs/search/lyrics/Gold/Fleetwood" for ::1 at 2020-11-23 18:31:54 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Fleetwood"}
Completed 200 OK in 371ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2849)


Started GET "/songs/search/lyrics/Gold/" for ::1 at 2020-11-23 18:32:17 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Completed 200 OK in 123ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2847)


Started GET "/songs/search/lyrics/Gold" for ::1 at 2020-11-23 18:40:24 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"Gold"}
Completed 200 OK in 166ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2788)


Started GET "/songs/search/lyrics/a" for ::1 at 2020-11-23 18:41:53 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"a"}
Completed 200 OK in 329ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2786)


Started GET "/songs/search/lyrics/dreams" for ::1 at 2020-11-23 18:42:13 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"dreams"}
Completed 200 OK in 205ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2786)


Started GET "/songs/search/lyrics/d" for ::1 at 2020-11-23 18:42:19 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"d"}
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2788)


Started GET "/songs/search/lyrics/a" for ::1 at 2020-11-23 18:42:24 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"a"}
Completed 200 OK in 105ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2795)


Started GET "/songs/search/lyrics/abba" for ::1 at 2020-11-23 18:42:48 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"abba"}
Completed 200 OK in 188ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2789)


Started GET "/songs/search/lyrics/sos" for ::1 at 2020-11-23 18:42:57 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"sos"}
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2787)


Started GET "/songs/search/lyrics/s" for ::1 at 2020-11-23 18:43:03 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"s"}
Completed 200 OK in 252ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2788)


Started GET "/songs/search/lyrics/hello/adele" for ::1 at 2020-11-23 18:51:14 -0500
Processing by SongsController#search_lyrics as */*
  Parameters: {"search"=>"hello", "search2"=>"adele"}
Completed 200 OK in 227ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 2849)


Started GET "/songs/search/lyrics/hello" for ::1 at 2020-11-23 18:52:17 -0500
  
ActionController::RoutingError (No route matches [GET] "/songs/search/lyrics/hello"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/songs/search/artist/heart" for ::1 at 2020-11-23 18:52:57 -0500
Processing by SongsController#search_by_artist as */*
  Parameters: {"search"=>"heart"}
Completed 200 OK in 167ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2763)


Started GET "/songs/search/track/barracuda" for ::1 at 2020-11-23 18:53:45 -0500
Processing by SongsController#search_by_track as */*
  Parameters: {"search"=>"barracuda"}
Completed 200 OK in 162ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2754)
